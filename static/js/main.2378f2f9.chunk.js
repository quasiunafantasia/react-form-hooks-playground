(this["webpackJsonpuse-form"]=this["webpackJsonpuse-form"]||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var a,r=n(0),u=n.n(r),c=n(3),o=n.n(c),l=(n(10),n(1)),i=function(e){return e&&"DEBOUNCE_STRATEGY"===e},s=function(e){return function(t){var n=Object(r.useRef)(),a=Object(r.useCallback)((function(){n.current?(clearTimeout(n.current),n.current=setTimeout((function(){t(),n.current=null}),e)):(t(),n.current=setTimeout((function(){n.current=null}),e))}),[t]);Object(r.useEffect)((function(){a()}),[a]),Object(r.useEffect)((function(){return function(){n.current&&clearTimeout(n.current)}}),[])}},f=function(e){return e&&"ON_BLUR_STRATEGY"===e},d=function(e){return function(t){Object(r.useEffect)((function(){e&&t()}))}},m="ON_CHANGE_STRATEGY",v=function(e){return e&&e===m},E=function(){return function(e){Object(r.useEffect)((function(){e()}))}};!function(e){e[e.PENDING=0]="PENDING",e[e.VALID=1]="VALID",e[e.INVALID=2]="INVALID"}(a||(a={}));var h=function(){return null},b=function(){return Promise.resolve(null)};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultValue,n=e.updateOn||m,u=Object(r.useState)(!0),c=Object(l.a)(u,2),o=c[0],p=c[1],O=Object(r.useState)(t),N=Object(l.a)(O,2),T=N[0],g=N[1],j=s(e.debounce),I=d(o),S=E(),V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b,n=Object(r.useRef)(null),u=Object(r.useState)(),c=Object(l.a)(u,2),o=c[0],i=c[1],s=Object(r.useState)(),f=Object(l.a)(s,2),d=f[0],m=f[1],v=Object(r.useState)(a.PENDING),E=Object(l.a)(v,2),p=E[0],O=E[1],N=function(e){m(null),O(a.INVALID),i(e)};return{error:o,value:d,status:p,setValue:function(r){if(n.current!==r){n.current=r,O(a.PENDING);var u=e(r);u?N(u):(O(a.PENDING),t(r).then((function(e){e?N(e):(O(a.VALID),m(r),i(null))})))}}}}(e.validator,e.asyncValidator),A=V.error,D=V.value,y=V.setValue,C=V.status,G=Object(r.useCallback)((function(){y(T)}),[y,T]);!function(e,t,n){var a=e.map((function(e){var a=e.predicate;return function(){a(t)&&n()}}));e.forEach((function(e,t){return(0,e.runner)(a[t])}))}([{runner:j,predicate:i},{runner:I,predicate:f},{runner:S,predicate:v}],n,G);return{value:D,setValue:function(e){g(e),p(!1)},innerValue:T,error:A,blur:function(){p(!0)},focus:function(){},status:C}}var O=function(){var e=Object(r.useState)(m),t=Object(l.a)(e,2),n=t[0],c=t[1],o=p({defaultValue:"hello",validator:function(e){return e&&e.length>7?"Too long":void 0},asyncValidator:function(e){return new Promise((function(t){return setTimeout((function(){e&&e[0]!==e[0].toUpperCase()&&t("Should start with capital (async)"),t()}),1e3)}))},updateOn:n,debounce:1e3}),i=o.value,s=o.setValue,f=o.status,d=o.error,v=o.blur,E=function(e){c(e.target.value)};return u.a.createElement("div",null,"This is a simple demo for useFormControl react hook It applies a synchronous validator of maxlength $","<"," 6 and an async validator with delay, that checks if value starts with capital letter Select form control update strategy",u.a.createElement("div",{className:"radio"},u.a.createElement("label",null,u.a.createElement("input",{type:"radio",value:m,checked:n===m,onChange:E}),"On change")),u.a.createElement("div",{className:"radio"},u.a.createElement("label",null,u.a.createElement("input",{type:"radio",value:"ON_BLUR_STRATEGY",checked:"ON_BLUR_STRATEGY"===n,onChange:E}),"On blur")),u.a.createElement("div",{className:"radio"},u.a.createElement("label",null,u.a.createElement("input",{type:"radio",value:"DEBOUNCE_STRATEGY",checked:"DEBOUNCE_STRATEGY"===n,onChange:E}),"Debounce 500")),u.a.createElement("input",{type:"text",onChange:function(e){return s(e.target.value)},onBlur:v}),u.a.createElement("div",null,"Error: ",d),u.a.createElement("div",null,"Value: ",i),u.a.createElement("div",null,"Status: ",a[f]))};n(11);var N=function(){return u.a.createElement("div",{className:"App"},u.a.createElement(O,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=n(4);n.n(T)()(u.a,{onlyLogs:!0,titleColor:"green",diffNameColor:"darkturquoise"}),o.a.render(u.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},5:function(e,t,n){e.exports=n(14)}},[[5,1,2]]]);
//# sourceMappingURL=main.2378f2f9.chunk.js.map